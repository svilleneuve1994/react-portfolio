{"ast":null,"code":"import _objectSpread from\"C:/Users/Rob/OneDrive/Documents/Babe_files/react-portfolio/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/Rob/OneDrive/Documents/Babe_files/react-portfolio/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Rob/OneDrive/Documents/Babe_files/react-portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Slide from'../Slide';import SliderControl from'../SliderControl';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Slider=function Slider(props){var slides=props.slides,heading=props.heading;var _useState=useState({items:_toConsumableArray(slides),visibleItems:[],current:0,direction:\"\"}),_useState2=_slicedToArray(_useState,2),slide=_useState2[0],setSlide=_useState2[1];var items=slide.items,visibleItems=slide.visibleItems,current=slide.current;var headingId=\"slider-heading__\".concat(heading.replace(/\\s+/g,'-').toLowerCase());var wrapperTransform={'transform':\"translateX(-\".concat(current*(100/slides.length),\"%)\")};var handlePreviousClick=function handlePreviousClick(){var previous=current-1;setSlide(_objectSpread(_objectSpread({},slide),{},{current:previous<0?items.length-1:previous,direction:\"previous\"}));};var handleNextClick=function handleNextClick(){var newIndex=(current+1)%items.length;setSlide(_objectSpread(_objectSpread({},slide),{},{current:newIndex,direction:\"next\"}));};var handleSlideClick=function handleSlideClick(index){if(current!==index){setSlide(_objectSpread(_objectSpread({},slide),{},{current:index}));}};useEffect(function(){var listItems=[];var className;console.log(\"current pre-card generation is: \"+current);for(var i=current-1;i<current+2;i++){var index=i;if(i<0){index=items.length+i;}else if(i>=items.length){index=i%items.length;}switch(index){case current:className+=' item--current';break;case current-1:className+=' item--previous';break;case current+1:className+=' item--next';break;}console.log(index,items[index],className);listItems.push({\"index\":index,\"id\":items[index],\"class\":className});}setSlide(_objectSpread(_objectSpread({},slide),{},{visibleItems:[].concat(listItems)}));},[current]);return/*#__PURE__*/_jsxs(\"div\",{className:\"slider\",\"aria-labelledby\":headingId,children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"slider__wrapper\",style:wrapperTransform,children:[/*#__PURE__*/_jsx(\"h3\",{id:headingId,class:\"visuallyhidden\",children:heading}),slides.map(function(item){return/*#__PURE__*/_jsx(Slide,{slide:item,current:current,handleSlideClick:handleSlideClick},item.index);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"slider__controls\",children:[/*#__PURE__*/_jsx(SliderControl,{type:\"previous\",title:\"Go to previous slide\",handleClick:handlePreviousClick}),/*#__PURE__*/_jsx(SliderControl,{type:\"next\",title:\"Go to next slide\",handleClick:handleNextClick})]})]});};export default Slider;","map":{"version":3,"names":["React","useState","useEffect","Slide","SliderControl","Slider","props","slides","heading","items","visibleItems","current","direction","slide","setSlide","headingId","replace","toLowerCase","wrapperTransform","length","handlePreviousClick","previous","handleNextClick","newIndex","handleSlideClick","index","listItems","className","console","log","i","push","map","item"],"sources":["C:/Users/Rob/OneDrive/Documents/Babe_files/react-portfolio/client/src/components/Slider/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Slide from '../Slide'\r\nimport SliderControl from '../SliderControl'\r\n\r\nconst Slider = (props) => {\r\n  const { slides, heading } = props \r\n\r\n  const [slide, setSlide] = useState({\r\n    items: [...slides],\r\n    visibleItems: [],\r\n    current: 0,\r\n    direction: \"\",\r\n  });\r\n\r\n  const { items, visibleItems, current } = slide\r\n\r\n  const headingId = `slider-heading__${heading.replace(/\\s+/g, '-').toLowerCase()}`\r\n  const wrapperTransform = {\r\n    'transform': `translateX(-${current * (100 / slides.length)}%)`\r\n  }\r\n\r\n  const handlePreviousClick = () => {\r\n    const previous = current - 1\r\n    setSlide({ \r\n      ...slide,\r\n      current: (previous < 0) \r\n        ? items.length - 1\r\n        : previous,\r\n      direction: \"previous\"\r\n    })\r\n  }\r\n  \r\n  const handleNextClick = () => {\r\n    const newIndex = (current + 1) % items.length\r\n\r\n    setSlide({ \r\n      ...slide,\r\n      current: newIndex,\r\n      direction: \"next\"\r\n    })\r\n  }\r\n  \r\n  const handleSlideClick = (index) => {\r\n    if (current !== index) {\r\n      setSlide({\r\n        ...slide,\r\n        current: index,\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let listItems = []\r\n    let className\r\n    console.log(\"current pre-card generation is: \" + current)\r\n  \r\n    for (let i = current - 1; i < current + 2; i++) {\r\n        let index = i\r\n        if (i < 0) {\r\n            index = items.length + i\r\n        } else if (i >= items.length) {\r\n            index = i % items.length\r\n        }\r\n  \r\n        switch (index) {\r\n          case current:\r\n            className += ' item--current'\r\n            break;\r\n  \r\n          case (current - 1):\r\n            className += ' item--previous'\r\n            break;\r\n  \r\n          case (current + 1):\r\n            className += ' item--next'\r\n            break;\r\n        }\r\n        console.log(index, items[index], className)\r\n        listItems.push({ \"index\": index, \"id\": items[index], \"class\": className })\r\n    }\r\n    setSlide({ ...slide, visibleItems: [...listItems] });\r\n  }, [current]);\r\n\r\n  return (\r\n    <div className=\"slider\" aria-labelledby={headingId}>\r\n      <ul className=\"slider__wrapper\" style={wrapperTransform}>\r\n        <h3 id={headingId} class=\"visuallyhidden\">{heading}</h3>\r\n        \r\n        {slides.map(item => {\r\n          return (\r\n            <Slide\r\n              key={item.index}\r\n              slide={item}\r\n              current={current}\r\n              handleSlideClick={handleSlideClick}\r\n            />\r\n          )\r\n        })}\r\n      </ul>\r\n      \r\n      <div className=\"slider__controls\">\r\n        <SliderControl \r\n          type=\"previous\"\r\n          title=\"Go to previous slide\"\r\n          handleClick={handlePreviousClick}\r\n        />\r\n        \r\n        <SliderControl \r\n          type=\"next\"\r\n          title=\"Go to next slide\"\r\n          handleClick={handleNextClick}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Slider;"],"mappings":"4cAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,UAAlB,CACA,MAAOC,cAAP,KAA0B,kBAA1B,C,wFAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,KAAD,CAAW,CACxB,GAAQC,OAAR,CAA4BD,KAA5B,CAAQC,MAAR,CAAgBC,OAAhB,CAA4BF,KAA5B,CAAgBE,OAAhB,CAEA,cAA0BP,QAAQ,CAAC,CACjCQ,KAAK,oBAAMF,MAAN,CAD4B,CAEjCG,YAAY,CAAE,EAFmB,CAGjCC,OAAO,CAAE,CAHwB,CAIjCC,SAAS,CAAE,EAJsB,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAOA,GAAQL,MAAR,CAAyCI,KAAzC,CAAQJ,KAAR,CAAeC,YAAf,CAAyCG,KAAzC,CAAeH,YAAf,CAA6BC,OAA7B,CAAyCE,KAAzC,CAA6BF,OAA7B,CAEA,GAAMI,UAAS,2BAAsBP,OAAO,CAACQ,OAAR,CAAgB,MAAhB,CAAwB,GAAxB,EAA6BC,WAA7B,EAAtB,CAAf,CACA,GAAMC,iBAAgB,CAAG,CACvB,kCAA4BP,OAAO,EAAI,IAAMJ,MAAM,CAACY,MAAjB,CAAnC,MADuB,CAAzB,CAIA,GAAMC,oBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChC,GAAMC,SAAQ,CAAGV,OAAO,CAAG,CAA3B,CACAG,QAAQ,gCACHD,KADG,MAENF,OAAO,CAAGU,QAAQ,CAAG,CAAZ,CACLZ,KAAK,CAACU,MAAN,CAAe,CADV,CAELE,QAJE,CAKNT,SAAS,CAAE,UALL,GAAR,CAOD,CATD,CAWA,GAAMU,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC5B,GAAMC,SAAQ,CAAG,CAACZ,OAAO,CAAG,CAAX,EAAgBF,KAAK,CAACU,MAAvC,CAEAL,QAAQ,gCACHD,KADG,MAENF,OAAO,CAAEY,QAFH,CAGNX,SAAS,CAAE,MAHL,GAAR,CAKD,CARD,CAUA,GAAMY,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,KAAD,CAAW,CAClC,GAAId,OAAO,GAAKc,KAAhB,CAAuB,CACrBX,QAAQ,gCACHD,KADG,MAENF,OAAO,CAAEc,KAFH,GAAR,CAID,CACF,CAPD,CASAvB,SAAS,CAAC,UAAM,CACd,GAAIwB,UAAS,CAAG,EAAhB,CACA,GAAIC,UAAJ,CACAC,OAAO,CAACC,GAAR,CAAY,mCAAqClB,OAAjD,EAEA,IAAK,GAAImB,EAAC,CAAGnB,OAAO,CAAG,CAAvB,CAA0BmB,CAAC,CAAGnB,OAAO,CAAG,CAAxC,CAA2CmB,CAAC,EAA5C,CAAgD,CAC5C,GAAIL,MAAK,CAAGK,CAAZ,CACA,GAAIA,CAAC,CAAG,CAAR,CAAW,CACPL,KAAK,CAAGhB,KAAK,CAACU,MAAN,CAAeW,CAAvB,CACH,CAFD,IAEO,IAAIA,CAAC,EAAIrB,KAAK,CAACU,MAAf,CAAuB,CAC1BM,KAAK,CAAGK,CAAC,CAAGrB,KAAK,CAACU,MAAlB,CACH,CAED,OAAQM,KAAR,EACE,IAAKd,QAAL,CACEgB,SAAS,EAAI,gBAAb,CACA,MAEF,IAAMhB,QAAO,CAAG,CAAhB,CACEgB,SAAS,EAAI,iBAAb,CACA,MAEF,IAAMhB,QAAO,CAAG,CAAhB,CACEgB,SAAS,EAAI,aAAb,CACA,MAXJ,CAaAC,OAAO,CAACC,GAAR,CAAYJ,KAAZ,CAAmBhB,KAAK,CAACgB,KAAD,CAAxB,CAAiCE,SAAjC,EACAD,SAAS,CAACK,IAAV,CAAe,CAAE,QAASN,KAAX,CAAkB,KAAMhB,KAAK,CAACgB,KAAD,CAA7B,CAAsC,QAASE,SAA/C,CAAf,EACH,CACDb,QAAQ,gCAAMD,KAAN,MAAaH,YAAY,WAAMgB,SAAN,CAAzB,GAAR,CACD,CA9BQ,CA8BN,CAACf,OAAD,CA9BM,CAAT,CAgCA,mBACE,aAAK,SAAS,CAAC,QAAf,CAAwB,kBAAiBI,SAAzC,wBACE,YAAI,SAAS,CAAC,iBAAd,CAAgC,KAAK,CAAEG,gBAAvC,wBACE,WAAI,EAAE,CAAEH,SAAR,CAAmB,KAAK,CAAC,gBAAzB,UAA2CP,OAA3C,EADF,CAGGD,MAAM,CAACyB,GAAP,CAAW,SAAAC,IAAI,CAAI,CAClB,mBACE,KAAC,KAAD,EAEE,KAAK,CAAEA,IAFT,CAGE,OAAO,CAAEtB,OAHX,CAIE,gBAAgB,CAAEa,gBAJpB,EACOS,IAAI,CAACR,KADZ,CADF,CAQD,CATA,CAHH,GADF,cAgBE,aAAK,SAAS,CAAC,kBAAf,wBACE,KAAC,aAAD,EACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAC,sBAFR,CAGE,WAAW,CAAEL,mBAHf,EADF,cAOE,KAAC,aAAD,EACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAC,kBAFR,CAGE,WAAW,CAAEE,eAHf,EAPF,GAhBF,GADF,CAgCD,CA/GD,CAiHA,cAAejB,OAAf"},"metadata":{},"sourceType":"module"}